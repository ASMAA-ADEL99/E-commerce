<section class="register bg-main-light my-3 p-4 rounded w-75 mx-auto">
    <h3>Register Now</h3>
    <form [formGroup]="registerForm" (ngSubmit)="handleForm()">
        <div class="mb-3">
            <label for="name">name:</label>
            <input type="text" id="name" formControlName="name" class="form-control" #name>

            <div class="alert alert-danger" *ngIf="registerForm.get('name')?.errors &&( registerForm.get('name')?.touched || name.value.length>0)">
                <p *ngIf="registerForm.get('name')?.getError('required')"> name is required </p>
                <p *ngIf="registerForm.get('name')?.getError('minLength')"> name must be at least 3 characters</p>
                <p *ngIf="registerForm.get('name')?.getError('maxLength')">name must be at most 10 characters</p>
            </div>
        </div>
        <div class="mb-3">
            <label for="email">email:</label>
            <input type="text" id="email" formControlName="email" class="form-control" #email>

            <div class="alert alert-danger" *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || email.value.length>0)">
                <p *ngIf="registerForm.get('email')?.getError('required')"> email is required </p>
                <p *ngIf="registerForm.get('email')?.getError('email')"> email is not valid </p>
            </div>
        </div>
        <div class="mb-3">
            <label for="password">password:</label>
            <input type="text" id="password" formControlName="password" class="form-control" #password>

            <div class="alert alert-danger" *ngIf="registerForm.get('password')?.errors &&( registerForm.get('password')?.touched ||password.value.length>0 )" >
                <p *ngIf="registerForm.get('password')?.getError('required')"> password is required </p>
                <p *ngIf="registerForm.get('password')?.getError('pattern')"> password is not valid </p>
            </div>
        </div>
        <div class="mb-3">
            <label for="rePassword">rePassword:</label>
            <input type="text" id="rePassword" formControlName="rePassword" class="form-control" #rePassword>

            <div class="alert alert-danger" *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || rePassword.value.length>0)">
                <p *ngIf="registerForm.get('rePassword')?.getError('required')"> rePassword is required </p>
                <p *ngIf="registerForm.get('rePassword')?.getError('mismatch')"> rePassword is different of password </p>
            </div>
        </div>
        <div class="mb-3">
            <label for="phone">phone:</label>
            <input type="text" id="phone" formControlName="phone" class="form-control" #phone>

            <div class="alert alert-danger" *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || phone.value.length>0)">
                <p *ngIf="registerForm.get('phone')?.getError('required')"> phone is required </p>
                <p *ngIf="registerForm.get('phone')?.getError('pattern')"> egyptian phone number required </p>
            </div>

        </div>
        <button  [disabled]="registerForm.invalid" class="btn-main ms-auto d-block">
            <span *ngIf="isloading" class="fas fa-spinner fa-spin"></span>
            Register
        </button>
        <p *ngIf="msgError" class="alert alert-danger">{{msgError}}</p>

    </form>



</section>
